<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plataforma de Estudos Inteligente</title>
  <link rel="stylesheet" href="style.css?v=600a" />
</head>
<body>
<header class="top">
  <div class="row between center wrap">
    <div>
      <h1>üìò Plataforma de Estudos Inteligente</h1>
      <p class="muted">Estudo direcionado e organizado ‚Äî pronto para qualquer prova.</p>
    </div>
    <div class="row gap wrap">
      <!-- Seletor de Projeto -->
      <div class="proj-wrap">
        <label class="muted small">Projeto</label>
        <div class="row gap">
          <select id="projectSelect"></select>
          <button id="projectNew" class="btn small">Novo</button>
          <button id="projectRename" class="btn small ghost">Renomear</button>
          <button id="projectDelete" class="btn small secondary">Excluir</button>
        </div>
      </div>
      <button id="themeToggle" class="btn ghost" title="Alternar estilo visual">üé® Estilo: <span id="themeLabel">Minimalista</span></button>
    </div>
  </div>

  <div class="top-actions">
    <button id="btnPlan" class="btn primary">ü™Ñ Gerar plano de hoje</button>
    <button class="btn tab active" data-tab="hoje">Hoje</button>
    <button class="btn tab" data-tab="temas">Temas</button>
    <button class="btn tab" data-tab="areas">√Åreas</button>
  </div>
</header>

<main class="container">

  <!-- HOJE -->
  <section id="page-hoje" class="page">
    <div class="card">
      <h2>Gerador do Dia</h2>
      <div class="grid4">
        <label>Data da prova (opcional)
          <input id="examDate" type="date">
        </label>
        <label>Temas por dia
          <input id="topicsPerDay" type="number" min="1" step="1" value="2">
        </label>
        <label>Mostrar conclu√≠dos
          <select id="showDone"><option>N√£o</option><option>Sim</option></select>
        </label>
        <div class="row gap end">
          <button id="genToday" class="btn">Gerar plano de hoje</button>
          <button id="clearToday" class="btn secondary">Limpar sele√ß√£o</button>
        </div>
      </div>
      <div class="chips row wrap gap">
        <span class="chip" id="kpiTopics">Temas: 0</span>
        <span class="chip" id="kpiDone">Conclu√≠dos: 0</span>
        <span class="chip" id="kpiProg">Progresso do dia: 0%</span>
        <span class="chip" id="kpiDays">Dias at√© a prova: -</span>
      </div>
    </div>

    <div class="stack" id="todayList"></div>

    <div class="card">
      <h2>Meta, Progresso e Cron√¥metro</h2>
      <div class="grid3">
        <div>
          <h3>Meta di√°ria</h3>
          <input id="goalInput" type="number" min="10" step="5" placeholder="60" />
          <button id="saveGoal" class="btn">Salvar meta</button>
        </div>
        <div>
          <h3>Progresso (hoje)</h3>
          <div class="bar"><div id="progressBar"></div></div>
          <div id="progressLabel" class="muted">0 / 0 min</div>
          <button id="addQuick15" class="btn small">+15 min r√°pido</button>
        </div>
        <div>
          <h3>‚è±Ô∏è Cron√¥metro (opcional)</h3>
          <div class="row gap">
            <button id="startTimer" class="btn">Iniciar</button>
            <button id="stopTimer" class="btn secondary">Parar</button>
            <button id="resetTimer" class="btn ghost">Zerar</button>
          </div>
          <div id="timerDisplay" class="timer">00:00:00</div>
        </div>
      </div>
    </div>

    <div class="card">
      <h3>üìù Notas r√°pidas</h3>
      <textarea id="quickNotes" rows="5" placeholder="Anote ideias, refer√™ncias, Q&A..."></textarea>
      <div class="row gap">
        <button id="saveNotes" class="btn">Salvar</button>
        <button id="clearNotes" class="btn secondary">Limpar</button>
      </div>
      <small class="muted">Salvo localmente neste dispositivo (por projeto).</small>
    </div>

    <div class="card">
      <h3>üìÖ Hoje em foco</h3>
      <table class="table">
        <thead><tr><th>Data</th><th>Tempo (min)</th></tr></thead>
        <tbody id="logBody"><tr><td colspan="2">Nenhum registro ainda.</td></tr></tbody>
      </table>
    </div>
  </section>

  <!-- TEMAS -->
  <section id="page-temas" class="page hidden">
    <div class="card">
      <h2>Temas cadastrados (Projeto atual)</h2>
      <div class="row wrap gap">
        <button id="backupExport" class="btn ghost">üì¶ Fazer backup (projeto)</button>
        <label class="btn ghost">üì• Restaurar backup (projeto)
          <input id="backupImport" type="file" accept="application/json" hidden>
        </label>
        <span class="muted">Use para migrar seus dados entre dispositivos.</span>
      </div>
      <table class="table" style="margin-top:1rem">
        <thead>
          <tr>
            <th>Tema</th><th>√Årea</th><th>Prio</th><th>Dif.</th><th>Aula vista?</th><th>Rendimento</th><th>Progresso</th><th>√öltimo</th><th>A√ß√µes</th>
          </tr>
        </thead>
        <tbody id="themesBody"><tr><td colspan="9">Nenhum tema cadastrado.</td></tr></tbody>
      </table>
    </div>

    <div class="card">
      <h3>Adicionar tema</h3>
      <div class="grid4">
        <input id="newThemeName" type="text" placeholder="Ex: Fasce√≠te plantar">
        <select id="newPriority">
          <option value="5">Prioridade 5 (alta)</option><option value="4">4</option>
          <option value="3" selected>3</option><option value="2">2</option><option value="1">1 (baixa)</option>
        </select>
        <select id="newDifficulty">
          <option value="alta">Dificuldade alta</option>
          <option value="m√©dia" selected>Dificuldade m√©dia</option>
          <option value="f√°cil">Dificuldade f√°cil</option>
        </select>
        <select id="attachArea"></select>
      </div>
      <div class="grid4" style="margin-top:.5rem">
        <select id="seenClass">
          <option value="nao">Aula vista? N√£o</option>
          <option value="sim">Aula vista? Sim</option>
        </select>
        <select id="initialYield">
          <option value="ruim">Rendimento inicial: Ruim</option>
          <option value="medio" selected>Rendimento inicial: M√©dio</option>
          <option value="bom">Rendimento inicial: Bom</option>
        </select>
        <input id="initialScore" type="number" min="0" max="100" placeholder="% acertos (opcional)">
        <input id="newComment" type="text" placeholder="Coment√°rio (opcional)">
      </div>
      <div class="row gap" style="margin-top:.5rem">
        <button id="addTheme" class="btn">Adicionar tema</button>
        <button id="bulkToggle" class="btn ghost">Adicionar em massa</button>
      </div>

      <div id="bulkWrap" class="hidden" style="margin-top:.6rem">
        <p class="muted">Cole uma lista (um por linha). Exemplos:<br>
          <code>Tema</code> ‚Ä¢ <code>Tema | prio=5 | dif=alta | aula=sim | rend=medio | score=70</code></p>
        <textarea id="bulkText" rows="6" placeholder="Fasce√≠te plantar | prio=5 | dif=alta | aula=sim | rend=medio"></textarea>
        <div class="row gap">
          <select id="bulkArea"></select>
          <button id="bulkAdd" class="btn">Adicionar lista</button>
        </div>
      </div>
    </div>
  </section>

  <!-- √ÅREAS -->
  <section id="page-areas" class="page hidden">
    <div class="card">
      <h2>√Åreas e Subtemas</h2>
      <div class="row gap">
        <input id="areaName" type="text" class="flex1" placeholder="Nova √°rea (ex: Ombro)">
        <button id="addArea" class="btn">Adicionar √°rea</button>
      </div>
    </div>

    <div id="areasList" class="stack" style="margin-top:1rem"></div>
  </section>

</main>

<footer class="foot">Projeto Plataforma de Estudos ¬© 2025</footer>

<script src="app.js?v=600a"></script>
</body>
</html>
